<!-- Table -->
<div class="col-md-7">
  <table id="brdcst-table" class="table table-striped table-bordered table-hover box" style="width:100%;">
    <thead>
      <tr>
        <th>SA</th>
        <th>OWNER</th>
        <th>MSG TITLE</th>
        <th>DATE</th>
      </tr>
    </thead>
  </table>
</div>

<script type="text/javascript">

  $(document).ready(function() {
    // Initialize Datatable
    var datatable = $('#brdcst-table').DataTable({
      "data": [],
      "columns": [
        {"data":"sa"},
        {"data":"owner"},
        {"data":"msg"},
        {"data":"date"}
      ]
    });

    function queryBrdcst() {
      $.ajax({
        type: 'POST',
        url: ipcDispatch,
        data: {
          "api":      "ipcBroadcast",
          "act":      "query",
          "user":     user.uname,
          "grp":      user.grp,
          "ugrp":     user.ugrp
        },
        dataType: 'json'
      }).done(function(data) {
        let res = data.rows;

        datatable.clear().draw();
        datatable.rows.add(res);
        datatable.columns.adjust().draw();
      });
    }

    $('#view-brdcst').click(function(e) {
      e.preventDefault();

      queryBrdcst();
    });


    // Click events on table rows
    $('#brdcst-table tbody tr').click(function() {
      let data = datatable.row(this).data();
      console.log(data);
    });
  });
</script>