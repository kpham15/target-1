<!-- Forms -->
<div class="col-md-4">
  <form id="node-operation-forms" class="form-horizontal">

    <!-- NODE -->
    <div class="form-group">
      <label for="node-operation-forms-node" class="col-sm-2 control-label">NODE:</label>
      <div class="col-sm-8">
        <input type="text" class="form-control node-operation-forms-input" id="node-operation-forms-node" disabled="">
      </div>
    </div>

    <!-- DEVICE -->
    <div class="form-group">
      <label for="node-operation-forms-device" class="col-sm-2 control-label">DEVICE:</label>
      <div class="col-sm-8">
        <input type="text" class="form-control node-operation-forms-input" id="node-operation-forms-device">
      </div>
    </div>

    <!-- SERIAL NUMBER -->
    <div class="form-group">
      <label for="node-operation-forms-serialnum" class="col-sm-2 control-label">SN:</label>
      <div class="col-sm-8">
        <input type="text" class="form-control node-operation-forms-input" id="node-operation-forms-serialnum">
      </div>
    </div>

    <!-- ACTION -->
    <div class="form-group">
      <label for="node-operation-action" class="col-sm-2 control-label">ACTION:</label>
      <div class="col-sm-8">
        <select class="form-control node-operation-forms-input" id="node-operation-action">
          <option value=""></option>
          <option value="DISCOVER">DISCOVER</option>
          <option value="STOP">STOP</option>
        </select>
      </div>
    </div>

    <!-- Clear Button -->
    <button id="node-operation-forms-clear" type="button" class="btn btn-primary btn-flat">
      Clear
    </button>
  </form>
</div>

<script type="text/javascript">
  function queryNodeOperation() {
    $.ajax({
      type:       "POST",
      url:        ipcDispatch,
      data:       {
        "api":    "ipcNodeOpe",
        "act":    "queryAll",
        "user":   user.uname
      },
      dataType:   'json'
    }).done(function(data) {
      let res = data.rows;

      nodeOperationDatatable.clear().draw();
      nodeOperationDatatable.rows.add(res);
      nodeOperationDatatable.columns.adjust().draw();
    })
  }

  $(document).ready(function() {

    // Clear button click event
    $('#node-operation-forms-clear').click(function() {
      $('.node-operation-forms-input').val('');

      queryNodeOperation();
    })
  
    // side bar menu click event
    $('.menu-item[page_id="node-operation-page"').click(function() {
      queryNodeOperation();
    });

  });
</script>