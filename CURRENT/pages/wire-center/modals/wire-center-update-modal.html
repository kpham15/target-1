<div id="wcModal_update" class="modal fade" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">SETUP WIRECENTER</h5>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="col-sm-2 " style="padding:2px">
                            <label for="wcModal_update_wcname_txt">WCNAME</label>
                            <input style="text-transform: uppercase" type="text" class="form-control wcModal_update_form" id="wcModal_update_wcname_txt" >
                        </div>
                        <div class="col-sm-1 " style="padding:2px">
                            <label for="wcModal_update_wcc_txt">WCC</label>
                            <input style="text-transform: uppercase" type="text" class="form-control wcModal_update_form" id="wcModal_update_wcc_txt" >
                        </div>
            
                        <div class="col-sm-2 " style="padding:2px">
                            <label for="wcModal_update_clli_txt">CLLI</label>
                            <input style="text-transform: uppercase" type="text" class="form-control wcModal_update_form" id="wcModal_update_clli_txt" >
                        </div>
                        <div class="col-sm-2 " style="padding:2px">
                            <label for="wcModal_update_npanxx_txt">NPANXX</label>
                            <input type="number" class="form-control wcModal_update_form" id="wcModal_update_npanxx_txt" onkeypress="return event.charCode >= 48 && event.charCode <= 57">
                        </div>
                        <div class="col-sm-2 " style="padding:2px">
                            <label for="wcModal_update_frloc_txt">FRLOC</label>
                            <input style="text-transform: uppercase" type="text" class="form-control wcModal_update_form" id="wcModal_update_frloc_txt" >
                        </div>
                        <div class="col-sm-1 " style="padding:2px">
                            <label for="wcModal_update_tzone_sel">TZONE</label>
                            <select class="form-control wcModal_update_form" id="wcModal_update_tzone_sel">
                                <option></option>
                                <option>AKST</option>
                                <option>CST</option>
                                <option>EST</option>
                                <option>HST</option>
                                <option>MST</option>
                                <option>PST</option>
                            </select>
                        </div>
                        <div class="col-sm-2 " style="padding:2px">
                            <label for="wcModal_update_stat_sel">STAT</label>
                            <select class="form-control wcModal_update_form" id="wcModal_update_stat_sel" readonly >
                                <option></option>
                                <option>INS</option>
                                <option>OOS</option>
                            </select>
                        </div>
                    </div>
            
                    <!-- ------------------------------------------------>
            
                    <div class="col-sm-12">
                        <div class="col-sm-4 " style="padding:2px">
                            <label for="wcModal_update_addr_txt">ADDR</label>
                            <input style="text-transform: uppercase" type="text" class="form-control wcModal_update_form" id="wcModal_update_addr_txt" >
                        </div>
            
                        <div class="col-sm-3 " style="padding:2px">
                            <label for="wcModal_update_city_txt">CITY</label>
                            <input style="text-transform: uppercase" type="text" class="form-control wcModal_update_form" id="wcModal_update_city_txt" >
                        </div>
            
                        <div class="col-sm-1 " style="padding:2px">
                            <label for="wcModal_update_state_sel">STATE</label>
                            <select class="form-control wcModal_update_form" id="wcModal_update_state_sel" >
                            </select>
                        </div>
            
                        <div class="col-sm-2 " style="padding:2px">
                            <label for="wcModal_update_zip_txt">ZIP</label>
                            <input style="text-transform: uppercase" type="text" class="form-control wcModal_update_form" id="wcModal_update_zip_txt" >
                        </div>
            
                        <div class="col-sm-2 " style="padding:2px">
                            <label for="wcModal_update_gps_txt">GPS</label>
                            <input style="text-transform: uppercase" type="text" class="form-control wcModal_update_form" id="wcModal_update_gps_txt" >
                        </div>
                    </div>
                    
                    <!---------------------------------------------------------------------->
                    
                    <div class="col-sm-12">
                        <div class="col-sm-4 " style="padding:2px">
                            <label for="wcModal_update_company_txt">COMPANY</label>
                            <input style="text-transform: uppercase" type="text" class="form-control wcModal_update_form" id="wcModal_update_company_txt" >
                        </div>
            
                        <div class="col-sm-2 " style="padding:2px">
                            <label for="wcModal_update_region_txt">REGION</label>
                            <input style="text-transform: uppercase" type="text" class="form-control wcModal_update_form" id="wcModal_update_region_txt" >
                        </div>
            
                        <div class="col-sm-2 " style="padding:2px">
                            <label for="wcModal_update_area_txt">AREA</label>
                            <input style="text-transform: uppercase" type="text" class="form-control wcModal_update_form" id="wcModal_update_area_txt" >
                        </div>
            
                        <div class="col-sm-2 " style="padding:2px">
                            <label for="wcModal_update_district_txt">DISTRICT</label>
                            <input style="text-transform: uppercase" type="text" class="form-control wcModal_update_form" id="wcModal_update_district_txt" >
                        </div>
            
                        <div class="col-sm-2 " style="padding:2px">
                            <label for="wcModal_update_manager_txt">MANAGER</label>
                            <input style="text-transform: uppercase" type="text" class="form-control wcModal_update_form" id="wcModal_update_manager_txt" >
                        </div>
                    </div>
            
                    <div class="col-sm-12">
                        <div class="col-sm-2 " style="padding:2px">
                            <label for="wcModal_update_ipadr_txt">IP_ADDR</label>
                            <input type="text" class="form-control wcModal_update_form" id="wcModal_update_ipadr_txt" >
                        </div>
                        
                        <div class="col-sm-2 " style="padding:2px">
                            <label for="wcModal_update_gateway_txt">GATEWAY</label>
                            <input type="text" class="form-control wcModal_update_form" id="wcModal_update_gateway_txt" >
                        </div>

                        <div class="col-sm-2 " style="padding:2px">
                            <label for="wcModal_update_netmask_txt"> NETMASK</label>
                            <input type="text" class="form-control wcModal_update_form" id="wcModal_update_netmask_txt" >
                        </div>

                        <div class="col-sm-2 " style="padding:2px">
                            <label for="wcModal_update_iport_txt">IP_PORT</label>
                            <input type="text" class="form-control wcModal_update_form" id="wcModal_update_iport_txt" >
                        </div>
                    </div>
                    

                    <div class="col-sm-10 ">
                        <div class="col-sm-2 " style="padding:2px">
                            <label for="wcModal_update_act_txt">ACTION</label>
                            <input type="text" class="form-control wcModal_update_form" id="wcModal_update_act_txt" readonly>
                        </div>
                        <div class="col-sm-10" style="margin-top:25px">
                            <label id="wcModal_update_rslt" style="color: rgb(0, 128, 0);"></label>
                        </div>  
                        <input type="hidden" id="wcModal_update_id_num" style="width:50px;">
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" id="wcModal_update_submit_btn" style="float:left">Submit</button>
                    <button class="btn btn-primary" id="wcModal_update_clear_btn" type="button" style="float:left">Clear</button>
                    <button class="btn btn-primary" id="wcModal_update_close_btn" data-dismiss="modal" aria-label="Close" style="float:left">Close</button>
                </div>
            </div>
        </div>
    </div>  
</div>
    
    
<script>
    
    var wcModal_update_tblRows = []

    function wcModal_update_displayForm() {
        $("#wcModal_update_id_num").        val(wcModal_update_tblRows[1].id);
        $("#wcModal_update_wcname_txt").    val(wcModal_update_tblRows[1].wcname);
        $("#wcModal_update_wcc_txt").       val(wcModal_update_tblRows[1].wcc);
        $("#wcModal_update_clli_txt").      val(wcModal_update_tblRows[1].clli);
        $("#wcModal_update_npanxx_txt").    val(wcModal_update_tblRows[1].npanxx);
        $("#wcModal_update_frloc_txt").     val(wcModal_update_tblRows[1].frloc);
        $("#wcModal_update_tzone_sel").     val(wcModal_update_tblRows[1].tzone);
        $("#wcModal_update_stat_sel").      val(wcModal_update_tblRows[1].ipcstat);
        $("#wcModal_update_addr_txt").      val(wcModal_update_tblRows[1].loc);
        $("#wcModal_update_city_txt").      val(wcModal_update_tblRows[1].city);
        $("#wcModal_update_state_sel").     val(wcModal_update_tblRows[1].state);
        $("#wcModal_update_zip_txt").       val(wcModal_update_tblRows[1].zip);
        $("#wcModal_update_gps_txt").       val(wcModal_update_tblRows[1].gps);
        $("#wcModal_update_company_txt").   val(wcModal_update_tblRows[1].company);
        $("#wcModal_update_region_txt").    val(wcModal_update_tblRows[1].region);
        $("#wcModal_update_area_txt").      val(wcModal_update_tblRows[1].area);
        $("#wcModal_update_district_txt").  val(wcModal_update_tblRows[1].district);
        $("#wcModal_update_manager_txt").   val(wcModal_update_tblRows[1].manager);
        $("#wcModal_update_ipadr_txt").     val(wcModal_update_tblRows[1].ipadr);
        $("#wcModal_update_gateway_txt").   val(wcModal_update_tblRows[1].gateway);
        $("#wcModal_update_netmask_txt").   val(wcModal_update_tblRows[1].netmask);
        $("#wcModal_update_iport_txt").     val(wcModal_update_tblRows[1].iport);
        $("#wcModal_update_act_txt").       val($("#wc_act_sel").val());
    }
    
    function wcModal_update_resetForm(){
        $("#wcModal_update_id_num").        val(wcModal_update_tblRows[1].id);
        $("#wcModal_update_wcname_txt").    val(wcModal_update_tblRows[0].wcname);
        $("#wcModal_update_wcc_txt").       val(wcModal_update_tblRows[0].wcc);
        $("#wcModal_update_clli_txt").      val(wcModal_update_tblRows[0].clli);
        $("#wcModal_update_npanxx_txt").    val(wcModal_update_tblRows[0].npanxx);
        $("#wcModal_update_frloc_txt").     val(wcModal_update_tblRows[0].frloc);
        $("#wcModal_update_tzone_sel").     val(wcModal_update_tblRows[0].tzone);
        $("#wcModal_update_stat_sel").      val(wcModal_update_tblRows[0].ipcstat);
        $("#wcModal_update_addr_txt").      val(wcModal_update_tblRows[0].loc);
        $("#wcModal_update_city_txt").      val(wcModal_update_tblRows[0].city);
        $("#wcModal_update_state_sel").     val(wcModal_update_tblRows[0].state);
        $("#wcModal_update_zip_txt").       val(wcModal_update_tblRows[0].zip);
        $("#wcModal_update_gps_txt").       val(wcModal_update_tblRows[0].gps);
        $("#wcModal_update_company_txt").   val(wcModal_update_tblRows[0].company);
        $("#wcModal_update_region_txt").    val(wcModal_update_tblRows[0].region);
        $("#wcModal_update_area_txt").      val(wcModal_update_tblRows[0].area);
        $("#wcModal_update_district_txt").  val(wcModal_update_tblRows[0].district);
        $("#wcModal_update_manager_txt").   val(wcModal_update_tblRows[0].manager);
        $("#wcModal_update_ipadr_txt").     val(wcModal_update_tblRows[0].ipadr);
        $("#wcModal_update_gateway_txt").   val(wcModal_update_tblRows[0].gateway);
        $("#wcModal_update_netmask_txt").   val(wcModal_update_tblRows[0].netmask);
        $("#wcModal_update_iport_txt").     val(wcModal_update_tblRows[0].iport);
        $("#wcModal_update_rslt").val("");
    }
    
    
    function wcModal_update_disableForm() {
        $(".wcModal_update_form").prop("disabled","disabled");
        $("#wcModal_update_clear_btn"). hide();
    }
    
    function wcModal_update_enableForm() {
        $(".wcModal_update_form").prop("disabled",false);
        $("#wcModal_update_id_num").prop("disabled","disabled");
        $("#wcModal_update_stat_sel").prop("disabled","disabled");
        $("#wcModal_update_clear_btn").show();
    }
    
    function wcModal_update_disableNetworkData(){
        $("#wcModal_update_ipadr_txt").prop("disabled", true);
        $("#wcModal_update_gateway_txt").prop("disabled", true);
        $("#wcModal_update_netmask_txt").prop("disabled", true);
        $("#wcModal_update_iport_txt").prop("disabled", true);
        
        $("#wcModal_update_clear_btn"). hide();
    }
    
    function wcModal_update_enableNetworkData(){
        $("#wcModal_update_ipadr_txt").prop("disabled", false);
        $("#wcModal_update_gateway_txt").prop("disabled", false);
        $("#wcModal_update_netmask_txt").prop("disabled", false);
        $("#wcModal_update_iport_txt").prop("disabled", false);
        
        $("#wcModal_update_clear_btn").show();
    }
    
    //---------------WCMODAL AJAX FUNCTION---------------//
    
    function wcModal_update_query(action) {
        $.ajax({
            url: ipcDispatch,
            type: 'post',
            data: {     
                api:    "ipcWc",
                act:    action,
                user:     user.uname,
                grp:      user.grp,
                ugrp:     user.ugrp,
                id:         $("#wcModal_update_id_num").val(),
                wcname:     $("#wcModal_update_wcname_txt").val(),
                wcc:        $("#wcModal_update_wcc_txt").val(),
                clli:       $("#wcModal_update_clli_txt").val(),
                npanxx:     $("#wcModal_update_npanxx_txt").val(),
                frloc:      $("#wcModal_update_frloc_txt").val(),
                tzone:      $("#wcModal_update_tzone_sel").val(),
                stat:       $("#wcModal_update_stat_sel").val(),
                addr:       $("#wcModal_update_addr_txt").val(),
                city:       $("#wcModal_update_city_txt").val(),
                state:      $("#wcModal_update_state_sel").val(),
                zip:        $("#wcModal_update_zip_txt").val(),
                gps:        $("#wcModal_update_gps_txt").val(),
                company:    $("#wcModal_update_company_txt").val(),
                region:     $("#wcModal_update_region_txt").val(),
                area:       $("#wcModal_update_area_txt").val(),
                district:   $("#wcModal_update_district_txt").val(),
                manager:    $("#wcModal_update_manager_txt").val(),
                ipadr:      $("#wcModal_update_ipadr_txt").val(),
                gateway:    $("#wcModal_update_gateway_txt").val(),
                netmask:    $("#wcModal_update_netmask_txt").val(),
                iport:      $("#wcModal_update_iport_txt").val()
        
            },
            dataType: "json"
        }).done(function (obj) {       
            if (obj.rslt == "fail") {
                postResponse($('#wcModal_update .modal-footer'), data.rslt, data.reason);
            }
            else {
                if (obj.rows.length === 0) {
                    if (action != "query") {
                        postResponse($('#wcModal_update .modal-footer'), data.rslt, "No Record Found in Database!");
                        return;
                    }
                }
                else {
                    wcModal_update_tblRows = obj.rows;
                    wcModal_update_displayForm();
                    wc_tblRows = wcModal_update_tblRows;
                    wc_displayForm();
                    if(action !== 'query') {
                        postResponse($('#wcModal_update .modal-footer'), data.rslt, data.reason);
                    }
                   

                }
            } 
        });
    }
    
    function wcModal_update_turnup() {
        $.ajax({
            url: ipcDispatch,
            type: "post",
                data: {
                api:        "ipcWc",
                act:        'TURN_UP',
                user:     user.uname,
                grp:      user.grp,
                ugrp:     user.ugrp,
                wcname:     $("#wc_wcname_txt").val(),
                wcc:        $("#wc_wcc_txt").val(),
                clli:       $("#wc_clli_txt").val(),
                npanxx:     $("#wc_npanxx_txt").val(),
                frloc:      $("#wc_frloc_txt").val(),
            },
            dataType: "json"
        }).done(function (obj) {       
            if (obj.rslt == "fail") {
                postResponse($('#wcModal_update .modal-footer'), data.rslt, data.reason);
            }
            else {
                wcModal_update_query('query');
                postResponse($('#wcModal_update .modal-footer'), data.rslt, "WIRE CENTER TURNED-UP SUCCESSFULLY");
            } 
    
        });
    
    }
    
    function wcModal_update_holdWc() {
    
        $.ajax({
            url: ipcDispatch,
            type: "post",
            data: {     
                api:        "ipcWc",
                act:        'HOLD',
                user:     user.uname,
                grp:      user.grp,
                ugrp:     user.ugrp,
                wcname:     $("#wcModal_update_wcname_txt").val(),
                wcc:        $("#wcModal_update_wcc_txt").val(),
                clli:       $("#wcModal_update_clli_txt").val(),
                npanxx:     $("#wcModal_update_npanxx_txt").val(),
                frloc:      $("#wcModal_update_frloc_txt").val()
            },
            dataType: "json"
        }).done(function (obj) {       
            if (obj.rslt == "fail") {
                postResponse($('#wcModal_update .modal-footer'), data.rslt, data.reason);
            }
            else {
                wcModal_update_query('query');
                postResponse($('#wcModal_update .modal-footer'), data.rslt, "WIRE CENTER TURNED-UP SUCCESSFULLY");
            } 
        });
    }


    // WCMODAL Events Handling
$("#wcModal_update_submit_btn").click(function () {
    if ($("#wcModal_update_npanxx_txt").val().length < 6 || $("#wcModal_update_npanxx_txt").val().length > 6) {
        $("#wcModal_update_rslt").css("color","red").text("INVALID NPANXX: NPANXX MUST BE 6 DIGITS")
        return;
    }
    if ($("#wcModal_update_id_num").val() != "") {
        if($("#wcModal_update_act_txt").val() == "TURN_UP") {
            wcModal_update_turnup();
        }
        else if($("#wcModal_update_act_txt").val() == "HOLD") {
            wcModal_update_holdWc();
        }
        else {
            wcModal_update_query($("#wcModal_update_act_txt").val());
        }
    }
    else {
        $("#wcModal_update_rslt").css("color","red").text("Missing WC ID")
    }
});

$("#wcModal_update_clear_btn").click(function () {
   if ($("#wcModal_update_id_num").val() != "") {
       wcModal_update_tblRows = wc_tblRows;
       wcModal_update_displayForm();
   } 
});

$("#wcModal_update_close_btn").click(function () {
    if ($("#wcModal_update_id_num").val() !="") {
        $("#wc_act_sel").val("");
    }
});

$("#wcModal_update").on("hidden.bs.modal", function(){
    $("#wc_act_sel").val("");
});
    
</script>